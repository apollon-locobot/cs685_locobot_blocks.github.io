<!DOCTYPE html>
<html>

<head>
  <title>CS685 Final Project Tutorial</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  <script src="script.js" defer></script>
</head>

<body>
  <!-- Sidenav -->
  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="#introduction">INTRODUCTION</a>
    <a href="#locobot">LOCOBOT PX100</a>
    <a href="#objective">OBJECTIVE</a>
    <a href="#apriltag">APRILTAG</a>
    <a href="#kinematics">IK</a>
    <a href="#demo">DEMO</a>
    <a href="#credits">CREDITS</a>
    <a href="#references">REFERENCES</a>
  </div>

  <span id="menu-icon" onclick="openNav()" class="material-symbols-outlined menu-icon">menu</span>

  <header class="bgimg w3-display-container" id="home">
    <div class="w3-display-right stroke">
      <span class="w3-text-white" style="font-size:35px">Real Robotics Planning <br>and Control with LoCoBot</span>
    </div>
  </header>

  <div id="main">
    <div class="w3-sand w3-large">
      <div id="introduction">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">INTRODUCTION</span></h5>
        <p class="content">This project was done as a part of the CS685 Autonomous Robotics course at George Mason University. We've wanted to work on a real robot and chose to work on the <a href="https://www.trossenrobotics.com/locobot-px100.aspx" target="_blank">LoCoBot PX100</a>, as the Interbotix APIs make it easier to work with. We've chosen a problem that incorporates the concepts of Inverse Kinematics, Control, Probabilistic Robotics, Tracking and Localization, SLAM taught in the <a href="https://cs.gmu.edu/media/syllabi/Fall2022/CS_685SteinG001.pdf" target="_blank">course</a>. The project was developed using <a href="http://wiki.ros.org/noetic" target="_blank">ROS Noetic</a>.</p>

        <p class="content">
          This tutorial is an informal introduction to using the LoCoBot and a walkthrough of each of the components that make up our project. We'll also discuss some practical tips and the challenges we faced. The LoCoBots offer a variety of sensors and capabilities that are very accessible to beginners, students, and researchers. We only scratched the surface of what is possible. We hope that sharing our experience through this tutorial will assist future students in leveraging the GMU Autonomous Robotics Lab's fleet of LoCoBots. We look forward to the cool projects to come!
        </p>

        <p class="content">
          <span class="material-symbols-outlined" style="color: #FF7900;vertical-align: text-bottom;">warning</span> Warning: You will have a ton of fun working with a real robot. It will also take a lot more time than you think and be full of unexpected challenges. Be prepared for some long days and late nights! We highly recommend breaking your project down into distinct subgoals and make incremental progress. The sections in this tutorial are the subgoals we achieved in an order. Be ambitious, but have a plan and get started right away.
        </p>
      </div>

      <div id="locobot">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">LOCOBOT PX100</span></h5>
        <div class="row">
          <div class="column">
            <p class="content">
              LoCoBot PX100, a.k.a "Low-Cost Robot", from Trossen Robotics starts from about $3000 and has the following features:
            <ul>
              <li>Create 3 from iRobot (base)</li>
              <li>Intel NUC NUC8i3BEH Mini PC</li>
              <li>Intel® RealSense™ Depth Camera D435</li>
              <li>PincherX 100 Robot Arm (4 degrees of freedom)</li>
              <li>RPLIDAR A2M8 360° Laser Range Scanner</li>
              <li>MoveIt Support</li>
            </ul>
            </p>
          </div>
          <div class="column">
            <center><img src="/assets/images/px100_other_side.jpg" style="width:40%;" class="w3-margin-top"></center>
          </div>
        </div>
      </div>

      <div id="objective">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">PROJECT OBJECTIVE - TOY COLLECTION</span></h5>
        <p class="content">
          The Robot searches for a block in its view, travels to it, aligns itself, picks the block, travels back to the origin, and drops it in the bin.
        </p>
        <center><img src="/assets/images/Project_Flow_Chart.png" style="width:90%;" class="w3-margin-top"></center>
      </div>

      <div id="apriltag">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">APRILTAG</span></h5>
        <p class="content">
          AprilTag is a visual fiducial system, useful for a wide variety of tasks including augmented reality, robotics, and camera calibration. Targets can be created from an ordinary printer, and the AprilTag detection software computes the precise 3D position, orientation, and identity of the tags relative to the camera. The AprilTag library is implemented in C with no external dependencies. It is designed to be easily included in other applications, as well as be portable to embedded devices. Real-time performance can be achieved even on cell-phone grade processors [from <a href="https://april.eecs.umich.edu/software/apriltag" target="_blank">AprilTag</a> website].
        </p>
        <p class="content">
          In this project, AprilTags were used to identify the block and the landmarks. The <code>/tag_detections</code> topic provides the list of AprilTag detections. The relevant AprilTags are extracted from this and stored in the class variables (check <code>get_tag_data()</code>).
        </p>
      </div>

      <div id="kinematics">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">INVERSE KINEMATICS</span></h5>
        <p class="content">
          The first subgoal was to get the block grabbing work. Since the LoCoBot PX100 has only 4 degrees of freedom, the arm didn't have much field of reach for the end effector. So we chose to align the robot with the block so it always end up in a position which makes it easier to grab.
        </p>
        <p class="content">
          For the alignment part in <code>align_with_block()</code>, the block is expected to be near the robot. The robot looks in the nearby field (hence the camera tilt at the beginning), and then slowly rotates or moves forward to align with the block. The slow motion ensures proper position and accurate April Tag readings. The alignmnet stops once the robot is at a specific distance and angle with respect to the block.

          <script src="https://emgithub.com/embed-v2.js?target=https%3A%2F%2Fgithub.com%2Fawpollon%2Fcs685_locobot_blocks%2Fblob%2F8f35c934f755259fcaecc0463301a5b61adc14c7%2Fblockbot.py%23L205-L243&style=default&type=code&showBorder=on&showLineNumbers=on&showFileMeta=on&showFullPath=on&showCopy=on"></script>

          To obtain these fixed distance and angle of alignment, we've experimented with multiple positions of the block and found the one that makes it easy to grab. Once aligned the <code>grab_block()</code> function is used to grab the block. The robot's arm is set to the home pose, and in the <code>set_ee_cartesian_trajectory()</code>, <code>z</code> is set to <code>-0.25</code> which makes the arm reach the ground from the home position, where the block would be. This function internally uses MoveIt to check if a plan exists to reach the specified position and executes if one exists.

          <script src="https://emgithub.com/embed-v2.js?target=https%3A%2F%2Fgithub.com%2Fawpollon%2Fcs685_locobot_blocks%2Fblob%2F8f35c934f755259fcaecc0463301a5b61adc14c7%2Fblockbot.py%23L140-L148&style=default&type=code&showBorder=on&showLineNumbers=on&showFileMeta=on&showFullPath=on&showCopy=on"></script>

          The bin was placed just behind the initial pose of the robot, so dropping the block is simple, the robot
        </p>
      </div>

      <!-- <div id="code">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">BLOCKBOT.PY</span></h5>
        <script src="https://emgithub.com/embed-v2.js?target=https%3A%2F%2Fgithub.com%2Fawpollon%2Fcs685_locobot_blocks%2Fblob%2F8f35c934f755259fcaecc0463301a5b61adc14c7%2Fblockbot.py%23L159-L182&style=default&type=code&showBorder=on&showLineNumbers=on&showFileMeta=on&showFullPath=on&showCopy=on"></script>
      </div> -->

      <div id="demo">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">DEMO</span></h5>
        <p class="content">Here's a demo of the robot following the <a href="#objective">plan</a>.</p>
        <center>
          <div id="video-container">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/OkzbEALzFM8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </div>
        </center>
      </div>

      <div id="extensions">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">FUN EXTENSIONS</span></h5>

      </div>

      <div id="credits">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">CREDITS</span></h5>
        <p class="content">
          We're grateful to the following people in helping us complete this project:
        <ul>
          <li>Michael D Schader, GMU</li>
          <li>Prof. Gregory J. Stein, GMU</li>
          <li>Prof. Sean Luke, GMU</li>
        </ul>
        </p>
      </div>

      <div id="references">
        <h5 class="w3-center w3-padding-32"><span class="w3-tag w3-wide">REFERENCES</span></h5>
        <p class="content">
        <ul>
          <li><a href="http://wiki.ros.org/apriltag_ros" target="_blank">AprilTags</a></li>
          <li><a href="https://www.trossenrobotics.com/docs/interbotix_xsarms/index.html" target="_blank">Interbotix Arms</a></li>
          <li><a href="https://github.com/Interbotix/interbotix_ros_toolboxes/blob/cdb8e7b77eb6be31d20bc77c947f5ba34525f4ec/interbotix_xs_toolbox/interbotix_xs_modules/src/interbotix_xs_modules/locobot.py" target="_blank">Interbotix LoCoBot API</a></li>
          <li><a href="https://pidexplained.com/how-to-tune-a-pid-controller/" target="_blank">How to tune PID Controller</a></li>
          <li><a href="https://gtsam.org/" target="_blank">GTSAM</a></li>
        </ul>
        </p>
      </div>

    </div>

    <footer class="w3-center w3-light-grey w3-padding-48 w3-large">
      <p>A project by <a href="https://www.linkedin.com/in/aaron-pollon-8a8b2246/" target="_blank">Aaron Pollon</a>, <a href="https://www.linkedin.com/in/sai-kishore-salaka-0112358/" target="_blank">Sai Kishore Salaka</a>, and <a href="https://www.linkedin.com/in/sashankkakaraparty/" target="_blank">Sai Sashank</a></p>
      <p style="font-size: 12px; position: absolute; right: 36px;">Website powered by <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
    </footer>
  </div>
</body>

</html>